class e{constructor(){this.modal=document.querySelector("#my-modal"),this.closeButton=document.querySelector(".bm-close-button"),this.title=document.querySelector(".bm-modal-title"),this.body=document.querySelector(".bm-modal-body"),this.events()}events(){window.addEventListener("click",(e=>{e.target==this.modal&&this.close()})),this.closeButton.addEventListener("click",(()=>{this.close()}))}show(e,t,i){this.modal.style.display="block",this.title.innerText=t,this.title.style.color=`${i}`,this.body.innerHTML=` <p>${e}</p>`,this.modal.style.color=`${i}`}close(){this.modal.style.display="none"}}class t{constructor(){this.form=document.querySelector("#contact"),this.allFields=document.querySelectorAll("#contact .bm-control"),this.insertValidationElements(),this.name=document.querySelector("#name"),this.name.previousValue="",this.email=document.querySelector("#email"),this.email.previousValue="",this.phone=document.querySelector("#phone"),this.phone.previousValue="",this.comment=document.querySelector("#comment"),this.comment.previousValue="",this.city=document.querySelector("#city"),this.city.previousValue="",this.state=document.querySelector("#i-state"),this.state.previousValue="",this.address=document.querySelector("#address"),this.address.previousValue="",this.zip=document.querySelector("#zip"),this.zip.previousValue="",this.modal=new e,this.events()}events(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this.formSubmitHandler()})),this.name.addEventListener("keyup",(()=>{this.isDifferent(this.name,this.nameHandler)})),this.name.addEventListener("blur",(()=>{this.isDifferent(this.name,this.nameHandler)})),this.phone.addEventListener("keyup",(()=>{this.isDifferent(this.phone,this.phoneHandler)})),this.phone.addEventListener("blur",(()=>{this.isDifferent(this.phone,this.phoneHandler)})),this.email.addEventListener("keyup",(()=>{this.isDifferent(this.email,this.emailHandler)})),this.email.addEventListener("blur",(()=>{this.isDifferent(this.email,this.emailHandler)})),this.phone.addEventListener("keyup",(()=>{this.isDifferent(this.phone,this.phoneHandler)})),this.phone.addEventListener("blur",(()=>{this.isDifferent(this.phone,this.phoneHandler)})),this.address.addEventListener("keyup",(()=>{this.isDifferent(this.address,this.addressHandler)})),this.address.addEventListener("blur",(()=>{this.isDifferent(this.address,this.addressHandler)})),this.comment.addEventListener("keyup",(()=>{this.isDifferent(this.comment,this.commentHandler)})),this.comment.addEventListener("blur",(()=>{this.isDifferent(this.comment,this.commentHandler)}))}isDifferent(e,t){e.previousValue!=e.value&&t.call(this),e.previousValue=e.value}formSubmitHandler(){this.name,this.emailAfterDelay(),this.commentImmediately(),this.commentAfterDelay(),this.phoneImmediately(),this.phoneAfterDelay(),this.subject.errors||this.email.errors||this.text.errors||this.submitHandler()}submitHandler(){const e={email:this.email.value,subject:this.subject.value,text:this.text.value};axios.post("/contact",e).then((e=>{(new Spinner).show(),200===e.status&&((new Spinner).hide(),this.modal.show("information successfully submitted, I really appreciate it!","Success","success"),this.form.reset())})).catch((e=>{e&&this.modal.show("There was an error while submitting this data","Warning","warning")})),this.modal.close()}nameHandler(){this.name.errors=!1,this.nameImmediately(),clearTimeout(this.name.timer),this.name.timer=setTimeout((()=>this.nameAfterDelay()),800)}nameImmediately(){""!==this.name.value&&this.name.value.length<5&&this.showValidationError(this.name,"Please provide a longer name."),this.name.value.length>50&&this.showValidationError(this.name,"Your name cannot exceed 50 characters."),this.name.errors||this.hideValidationError(this.name)}nameAfterDelay(){this.name.value>30&&this.name.value.length>=1&&this.showValidationError(this.name,"Name is too short."),this.name.errors||this.hideValidationError(this.name)}emailHandler(){this.email.errors=!1,clearTimeout(this.email.timer),this.email.timer=setTimeout((()=>this.emailAfterDelay()),800)}emailAfterDelay(){/^\S+@\S+$/.test(this.email.value)||this.showValidationError(this.email,"Please provide a valid email address."),this.email.value||this.hideValidationError(this.email),this.email.errors||this.hideValidationError(this.email)}phoneHandler(){this.phone.errors=!1,this.phoneImmediately(),clearTimeout(this.phone.timer),this.phone.timer=setTimeout((()=>this.phoneAfterDelay()),800)}phoneImmediately(){/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g.test(this.phone.value)||this.showValidationError(this.phone,"Please enter a valid phone number."),this.phone.errors||this.hideValidationError(this.phone)}phoneAfterDelay(){this.phone.value.length>50&&this.showValidationError(this.phone,"Your message cannot exceed 50 characters."),0===this.phone.value.length&&this.hideValidationError(this.phone),this.phone.errors||this.hideValidationError(this.phone)}addressHandler(){this.address.errors=!1,this.addressImmediately(),clearTimeout(this.address.timer),this.address.timer=setTimeout((()=>this.addressAfterDelay()),800)}addressImmediately(){this.address.value.length<4&&this.showValidationError(this.address,"Please enter a valid address"),this.address.errors||this.hideValidationError(this.address)}addressAfterDelay(){this.address.value.length>30&&this.showValidationError(this.address,"Your address cannot exceed 30 characters."),this.address.errors||this.hideValidationError(this.address)}zipHandler(){this.zip.errors=!1,this.zipImmediately(),clearTimeout(this.zip.timer),this.zip.timer=setTimeout((()=>this.zipAfterDelay()),800)}zipImmediately(){this.zip.value.length<4&&isNaN(this.zip.value)&&this.showValidationError(this.zip,"Please enter a valid zip code"),this.zip.errors||this.hideValidationError(this.zip)}zipAfterDelay(){this.zip.value.length>6&&this.showValidationError(this.zip,"Your address cannot exceed 30 characters."),this.zip.errors||this.hideValidationError(this.zip)}commentHandler(){this.comment.errors=!1,this.commentImmediately(),clearTimeout(this.comment.timer),this.comment.timer=setTimeout((()=>this.commentAfterDelay()),800)}commentImmediately(){""!==this.comment.value&&this.comment.value.length<150&&this.showValidationError(this.comment,"Please write at least 150 characters."),this.comment.value.length>1e3&&this.showValidationError(this.comment,"Your comment can not exceed 500 characters."),this.comment.errors||this.hideValidationError(this.comment)}commentAfterDelay(){this.comment.value<50&&this.comment.value.length>=1&&this.showValidationError(this.comment,"Your comment is too short."),this.comment.errors||this.hideValidationError(this.comment)}hideValidationError(e){e.nextElementSibling.classList.remove("liveValidateMessage--visible")}showValidationError(e,t){e.nextElementSibling.innerHTML=`<p>${t}</p>`,e.nextElementSibling.classList.add("liveValidateMessage--visible"),e.errors=!0}insertValidationElements(){this.allFields.forEach((e=>{e.insertAdjacentHTML("afterend",'\n                         <div class="bm-alert bm-danger liveValidateMessage bm-small">\n                             \n                         </div>\n\n                     ')}))}}window.onload=function(){new t};
//# sourceMappingURL=index.b684dd5d.js.map
